
<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
<title>Kyselyn kysymykset</title>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="viewport"
	content="width=device-width, initial-scale=1, shrink-to-fit=no" />
<link rel="stylesheet"
	href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
<script
	src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
<link type="text/css" rel="stylesheet" href="/css/styles.css"
	th:href="@{/css/styles.css}" />
</head>

<style>
table, th, td {
	border: 1px solid black;
	font-family: "Georgia";
	font-size: 18px;
}

h3, h4, h5 {
	font-family: "Georgia";
	padding-top: 25px;
	padding-bottom: 25px;
}

container {
	font-family: "Georgia";
}

table {
	border-collapse: separate;
	border-spacing: 0 15px;
}

table {
	counter-reset: rowNumber;
}

#tableid tr::before {
	display: table-cell;
	counter-increment: rowNumber;
	content: counter(rowNumber) ".";
}

.btn-warning {
	background-color: #fcb103 !important;
}
</style>

<body>

	<div class="container">
	<br>
	<a href="/kyselyt">Palaa etusivulle, jossa näet kaikki kyselyt</a>  
	<br>
	<br>
		<div class="container main">
			<h3 th:text="${kysely.nimi}"></h3>
			<div class="clear-3"></div>
		</div>

		<div class="card border-dark mb-3">
			<h5 class="card-header">Lisää uusi kysymys kyselyyn:</h5>
			<div class="card-body">

<!-- ------------------------------------------------------------------------------------------------------- -->
	<!-- TALLENNA KYSYMYS (KyselyController.java: "/kysely/{id}/tallennakysymys" -endpoint mutta uudelleenohjaa takaisin Kyselyn omalle sivulle   - -->

				<form class="form-inline"
					th:action="@{/kysely/{id}/tallennakysymys(id=${kysely.id})}"
					action="#" method="post">

					<input class="form-control col-sm-7 mr-sm-2" type="text" id="nimi"
						placeholder="Uusi kysymys" th:field="${kysymys.teksti}" required />

					<button class="btn btn-primary mr-sm-2" type="submit">Tallenna</button>
				</form>
			</div>
		</div>
		
<!-- -----------BOOTSTRAP-LISTA KYSELYN KYSYMYKSISTÄ-------------------------------------------------------------------------------------------- -->

		<div class="container-lista  pt-4">

			<table class="table table-light table-hover table-bordered table-sm">
				<thead class="thead-dark">
					<tr>
						<th></th>
						<th>Kysymys</th>
						<th></th>
					</tr>
				</thead>


<!--NÄYTÄ KYSELYN KAIKKI KYSYMYKSET -------------------------------------------------- -->

				<tbody id="tableid">
					<tr th:each=" kysymys : ${kysely.kysymykset}">
						<td th:text="${kysymys.teksti} "></td>


<!-- POISTA KYSYMYS ---(kyselyn id ja kysymyksen id tarvitaan controllerissa)------------------------------------------------------------------------------------------ -->
						<td><a class="btn btn-warning "
							th:href="@{/kysely/{id}/poista/{kysymysid}(id=${kysely.id}, kysymysid=${kysymys.id})}">Poista</a>
						</td>
					</tr>
				</tbody>
			</table>
		</div>	
	</div>

</body>
</html>